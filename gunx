--// ðŸ”¥ AutoFarm Mihawk + SJW + AutoZoom Camera (Check SJW every 10s) ðŸ”¥

local player = game:GetService("Players").LocalPlayer
local PlayerGui = player:WaitForChild("PlayerGui")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Remotes = ReplicatedStorage:WaitForChild("Remotes"):WaitForChild("Serverside")
local runService = game:GetService("RunService")
local camera = workspace.CurrentCamera

--===[ ðŸŒ™ à¸ªà¸£à¹‰à¸²à¸‡ UI à¸«à¸¥à¸±à¸ ]===--
local gui = Instance.new("ScreenGui")
gui.Name = "FarmControlUI"
gui.ResetOnSpawn = false
gui.Parent = PlayerGui

local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 220, 0, 150)
frame.Position = UDim2.new(0.5, -110, 0.1, 0)
frame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
frame.BackgroundTransparency = 0.2
frame.Parent = gui
frame.Active = true
frame.Draggable = true

local title = Instance.new("TextLabel")
title.Size = UDim2.new(1, 0, 0, 30)
title.BackgroundTransparency = 1
title.Text = "âš™ï¸ Mihawk Farm Control"
title.TextColor3 = Color3.new(1, 1, 1)
title.Font = Enum.Font.SourceSansBold
title.TextSize = 18
title.Parent = frame

--===[ à¸›à¸¸à¹ˆà¸¡ AutoFarm ]===--
local toggleButton = Instance.new("TextButton")
toggleButton.Size = UDim2.new(0.9, 0, 0, 40)
toggleButton.Position = UDim2.new(0.05, 0, 0.35, 0)
toggleButton.BackgroundColor3 = Color3.fromRGB(80, 80, 80)
toggleButton.TextColor3 = Color3.new(1, 1, 1)
toggleButton.Font = Enum.Font.SourceSansBold
toggleButton.TextSize = 18
toggleButton.Text = "ðŸ”´ AutoFarm : OFF"
toggleButton.Parent = frame

--===[ à¸›à¸¸à¹ˆà¸¡ AutoZoom ]===--
local zoomButton = Instance.new("TextButton")
zoomButton.Size = UDim2.new(0.9, 0, 0, 40)
zoomButton.Position = UDim2.new(0.05, 0, 0.70, 0)
zoomButton.BackgroundColor3 = Color3.fromRGB(80, 80, 80)
zoomButton.TextColor3 = Color3.new(1, 1, 1)
zoomButton.Font = Enum.Font.SourceSansBold
zoomButton.TextSize = 18
zoomButton.Text = "ðŸ”´ AutoZoom : OFF"
zoomButton.Parent = frame

--===[ à¸•à¸±à¸§à¹à¸›à¸£à¸ªà¸–à¸²à¸™à¸° ]===--
getgenv().AutoFarmMihawk = false
getgenv().gx = true
getgenv().AutoZoom = true -- âœ… à¹€à¸›à¸´à¸”à¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´à¹€à¸¡à¸·à¹ˆà¸­à¹€à¸£à¸´à¹ˆà¸¡à¸•à¹‰à¸™

--===[ à¸Ÿà¸±à¸‡à¸à¹Œà¸Šà¸±à¸™à¹€à¸›à¸´à¸”/à¸›à¸´à¸” AutoFarm ]===--
local function ToggleAutoFarm(state)
	getgenv().AutoFarmMihawk = state
	if state then
		toggleButton.Text = "ðŸŸ¢ AutoFarm : ON"
		toggleButton.BackgroundColor3 = Color3.fromRGB(0, 170, 0)
	else
		toggleButton.Text = "ðŸ”´ AutoFarm : OFF"
		toggleButton.BackgroundColor3 = Color3.fromRGB(80, 80, 80)
	end
end

toggleButton.MouseButton1Click:Connect(function()
	ToggleAutoFarm(not getgenv().AutoFarmMihawk)
end)

--===[ à¸Ÿà¸±à¸‡à¸à¹Œà¸Šà¸±à¸™à¹€à¸›à¸´à¸”/à¸›à¸´à¸” AutoZoom à¸à¸¥à¹‰à¸­à¸‡ ]===--
local autoZoomConn
local function EnableAutoZoom(state)
	getgenv().AutoZoom = state
	if state then
		zoomButton.Text = "ðŸŸ¢ AutoZoom : ON"
		zoomButton.BackgroundColor3 = Color3.fromRGB(0, 170, 0)

		autoZoomConn = runService.RenderStepped:Connect(function()
			if not getgenv().AutoZoom then return end
			local char = player.Character or player.CharacterAdded:Wait()
			local hrp = char:FindFirstChild("HumanoidRootPart")
			if not hrp then return end

			camera.CameraType = Enum.CameraType.Scriptable
			local maxZoom = player.CameraMaxZoomDistance or 128
			local zoom = math.min(maxZoom, 100)
			camera.CFrame = hrp.CFrame * CFrame.new(0, zoom, 0) * CFrame.Angles(math.rad(-90), 0, 0)
		end)
	else
		zoomButton.Text = "ðŸ”´ AutoZoom : OFF"
		zoomButton.BackgroundColor3 = Color3.fromRGB(80, 80, 80)
		camera.CameraType = Enum.CameraType.Custom -- âœ… à¸à¸¥à¸±à¸šà¸à¸¥à¹‰à¸­à¸‡à¸›à¸à¸•à¸´
		if autoZoomConn then
			autoZoomConn:Disconnect()
			autoZoomConn = nil
		end
	end
end

zoomButton.MouseButton1Click:Connect(function()
	EnableAutoZoom(not getgenv().AutoZoom)
end)

--===[ à¸›à¸£à¸±à¸š ProximityPrompt ]===--
for _, obj in pairs(workspace:GetDescendants()) do
	if obj:IsA("ProximityPrompt") then
		obj.HoldDuration = 0
	end
end

--===[ à¸Ÿà¸±à¸‡à¸à¹Œà¸Šà¸±à¸™à¸£à¸°à¸šà¸šà¸Ÿà¸²à¸£à¹Œà¸¡ ]===--
local HakiArgs = {"Server","Misc","Haki",1}

local function ActivateHaki()
	pcall(function()
		Remotes:FireServer(unpack(HakiArgs))
	end)
end

local function waitForCharacter()
	local char, hrp, humanoid
	repeat
		char = player.Character or player.CharacterAdded:Wait()
		hrp = char:FindFirstChild("HumanoidRootPart")
		humanoid = char:FindFirstChild("Humanoid")
		task.wait(0.1)
	until hrp and humanoid and humanoid.Health > 0
	return char, hrp, humanoid
end

-- Auto Haki loop
task.spawn(function()
	while true do
		local _, _, humanoid = waitForCharacter()
		if humanoid and humanoid.Health > 0 then
			ActivateHaki()
		end
		task.wait(1)
	end
end)

-- à¸ˆà¸¸à¸”à¸§à¸²à¸£à¹Œà¸›à¸à¸¥à¸±à¸š
local deathPosition = CFrame.new(
	-30.7399998, 2.22399998, 156.429993, 
	0.983286619, 0, 0.182064503,
	0, 1, 0,
	-0.182064503, 0, 0.983286619
)

local function AttackBoss(bossModel)
	local char, hrp = waitForCharacter()
	local Mon = bossModel:FindFirstChild("HumanoidRootPart")
	local hum = bossModel:FindFirstChild("Humanoid")

	if Mon and hum and hum.Health > 0 then
		hrp.CFrame = Mon.CFrame * CFrame.new(0, 0, 5)
		Remotes:FireServer("Server", "Sword", "M1s", "Dual Dagger", 1)
		task.wait(0.2)
		for i = 1,4 do
			Remotes:FireServer("Server", "Sword", "Skill"..i, "Dual Dagger")
			task.wait(0.2)
		end
		return true
	end
	return false
end

--===[ à¸£à¸°à¸šà¸šà¸•à¸£à¸§à¸ˆ SJW à¹ƒà¸«à¸¡à¹ˆà¸—à¸¸à¸à¹† 10 à¸§à¸´ ]===--
local latestSJW = nil
task.spawn(function()
	while true do
		local sjwArea = workspace.Main.Characters:FindFirstChild("Rogue Town")
		local sjwBossFolder = sjwArea and sjwArea:FindFirstChild("Boss")
		latestSJW = sjwBossFolder and sjwBossFolder:FindFirstChild("Sung Jin Woo")
		task.wait(10)
	end
end)

--===[ à¸£à¸°à¸šà¸š AutoFarm à¸«à¸¥à¸±à¸ ]===--
task.spawn(function()
	while true do
		if getgenv().AutoFarmMihawk and getgenv().gx then
			pcall(function()
				local char, hrp = waitForCharacter()

				-- à¸•à¸£à¸§à¸ˆ Mihawk
				local mihawk = workspace.Main.Characters["Glacier Isle"].Mihawk:FindFirstChild("Mihawk")

				-- à¸•à¸£à¸§à¸ˆ SJW à¸ˆà¸²à¸à¸•à¸±à¸§à¸¥à¹ˆà¸²à¸ªà¸¸à¸”à¸—à¸µà¹ˆà¸­à¸±à¸›à¹€à¸”à¸•
				local sjwBoss = latestSJW

				if sjwBoss and sjwBoss:FindFirstChild("Humanoid") and sjwBoss.Humanoid.Health > 0 then
					AttackBoss(sjwBoss)
				elseif sjwBoss and sjwBoss:FindFirstChild("Humanoid") and sjwBoss.Humanoid.Health <= 0 then
					hrp.CFrame = deathPosition
					task.wait(1)
				elseif not sjwBoss or not sjwBoss:FindFirstChild("Humanoid") then
					-- à¸–à¹‰à¸² SJW à¹„à¸¡à¹ˆà¸¡à¸µà¹ƒà¸™à¹à¸¡à¸žà¹€à¸¥à¸¢ à¹ƒà¸«à¹‰à¸à¸¥à¸±à¸šà¸ˆà¸¸à¸”à¸£à¸±à¸šà¹€à¸„à¸§à¸ª
					hrp.CFrame = deathPosition
				elseif mihawk and mihawk:FindFirstChild("Humanoid") and mihawk.Humanoid.Health > 0 then
					AttackBoss(mihawk)
				elseif mihawk and mihawk:FindFirstChild("Humanoid") and mihawk.Humanoid.Health <= 0 then
					hrp.CFrame = deathPosition
				end
			end)
		end
		task.wait(0.4)
	end
end)

--===[ à¹€à¸›à¸´à¸” AutoFarm + AutoZoom à¸•à¸­à¸™à¹€à¸£à¸´à¹ˆà¸¡à¸•à¹‰à¸™ ]===--
task.delay(2, function()
	ToggleAutoFarm(true)
	EnableAutoZoom(true)
end)
